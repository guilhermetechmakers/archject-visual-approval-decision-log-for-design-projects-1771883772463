⚠️ CRITICAL EXECUTION RULES - READ FIRST ⚠️
❌ NEVER run: npm run dev, npm start, yarn dev, pnpm dev, or ANY development server
❌ NEVER run: long-running processes, servers, or commands that don't exit
❌ NEVER test the application by starting it
✅ ALLOWED: npm install, npm run build, npm run test (if needed)
✅ YOUR TASK: Create/modify files only, then STOP and EXIT immediately
⚠️ The MCP server handles all testing and validation separately

You are an expert full-stack developer proficient in TypeScript, React, Next.js, and modern UI/UX frameworks (Tailwind CSS, Shadcn UI, Radix UI).

=== DESIGN REFERENCE (MANDATORY) ===
# Modern Design Best Practices

## Philosophy

Create unique, memorable experiences while maintaining consistency through modern design principles. Every project should feel distinct yet professional, innovative yet intuitive.

---

## Landing Pages & Marketing Sites

### Hero Sections
**Go beyond static backgrounds:**
- Animated gradients with subtle movement
- Particle systems or geometric shapes floating
- Interactive canvas backgrounds (Three.js, WebGL)
- Video backgrounds with proper fallbacks
- Parallax scrolling effects
- Gradient mesh animations
- Morphing blob animations


### Layout Patterns
**Use modern grid systems:**
- Bento grids (asymmetric card layouts)
- Masonry layouts for varied content
- Feature sections with diagonal cuts or curves
- Overlapping elements with proper z-index
- Split-screen designs with scroll-triggered reveals

**Avoid:** Traditional 3-column equal grids

### Scroll Animations
**Engage users as they scroll:**
- Fade-in and slide-up animations for sections
- Scroll-triggered parallax effects
- Progress indicators for long pages
- Sticky elements that transform on scroll
- Horizontal scroll sections for portfolios
- Text reveal animations (word by word, letter by letter)
- Number counters animating into view

**Avoid:** Static pages with no scroll interaction

### Call-to-Action Areas
**Make CTAs impossible to miss:**
- Gradient buttons with hover effects
- Floating action buttons with micro-interactions
- Animated borders or glowing effects
- Scale/lift on hover
- Interactive elements that respond to mouse position
- Pulsing indicators for primary actions

---

## Dashboard Applications

### Layout Structure
**Always use collapsible side navigation:**
- Sidebar that can collapse to icons only
- Smooth transition animations between states
- Persistent navigation state (remember user preference)
- Mobile: drawer that slides in/out
- Desktop: sidebar with expand/collapse toggle
- Icons visible even when collapsed

**Structure:**
```
/dashboard (layout wrapper with sidebar)
  /dashboard/overview
  /dashboard/analytics
  /dashboard/settings
  /dashboard/users
  /dashboard/projects
```

All dashboard pages should be nested inside the dashboard layout, not separate routes.

### Data Tables
**Modern table design:**
- Sticky headers on scroll
- Row hover states with subtle elevation
- Sortable columns with clear indicators
- Pagination with items-per-page control
- Search/filter with instant feedback
- Selection checkboxes with bulk actions
- Responsive: cards on mobile, table on desktop
- Loading skeletons, not spinners
- Empty states with illustrations or helpful text

**Use modern table libraries:**
- TanStack Table (React Table v8)
- AG Grid for complex data
- Data Grid from MUI (if using MUI)

### Charts & Visualizations
**Use the latest charting libraries:**
- Recharts (for React, simple charts)
- Chart.js v4 (versatile, well-maintained)
- Apache ECharts (advanced, interactive)
- D3.js (custom, complex visualizations)
- Tremor (for dashboards, built on Recharts)

**Chart best practices:**
- Animated transitions when data changes
- Interactive tooltips with detailed info
- Responsive sizing
- Color scheme matching design system
- Legend placement that doesn't obstruct data
- Loading states while fetching data

### Dashboard Cards
**Metric cards should stand out:**
- Gradient backgrounds or colored accents
- Trend indicators (↑ ↓ with color coding)
- Sparkline charts for historical data
- Hover effects revealing more detail
- Icon representing the metric
- Comparison to previous period

---

## Color & Visual Design

### Color Palettes
**Create depth with gradients:**
- Primary gradient (not just solid primary color)
- Subtle background gradients
- Gradient text for headings
- Gradient borders on cards
- Elevated surfaces for depth

**Color usage:**
- 60-30-10 rule (dominant, secondary, accent)
- Consistent semantic colors (success, warning, error)
- Accessible contrast ratios (WCAG AA minimum)

### Typography
**Create hierarchy through contrast:**
- Large, bold headings (48-72px for heroes)
- Clear size differences between levels
- Variable font weights (300, 400, 600, 700)
- Letter spacing for small caps
- Line height 1.5-1.7 for body text
- Inter, Poppins, or DM Sans for modern feel

### Shadows & Depth
**Layer UI elements:**
- Multi-layer shadows for realistic depth
- Colored shadows matching element color
- Elevated states on hover
- Neumorphism for special elements (sparingly)

---

## Interactions & Micro-animations

### Button Interactions
**Every button should react:**
- Scale slightly on hover (1.02-1.05)
- Lift with shadow on hover
- Ripple effect on click
- Loading state with spinner or progress
- Disabled state clearly visible
- Success state with checkmark animation

### Card Interactions
**Make cards feel alive:**
- Lift on hover with increased shadow
- Subtle border glow on hover
- Tilt effect following mouse (3D transform)
- Smooth transitions (200-300ms)
- Click feedback for interactive cards

### Form Interactions
**Guide users through forms:**
- Input focus states with border color change
- Floating labels that animate up
- Real-time validation with inline messages
- Success checkmarks for valid inputs
- Error states with shake animation
- Password strength indicators
- Character count for text areas

### Page Transitions
**Smooth between views:**
- Fade + slide for page changes
- Skeleton loaders during data fetch
- Optimistic UI updates
- Stagger animations for lists
- Route transition animations

---

## Mobile Responsiveness

### Mobile-First Approach
**Design for mobile, enhance for desktop:**
- Touch targets minimum 44x44px
- Generous padding and spacing
- Sticky bottom navigation on mobile
- Collapsible sections for long content
- Swipeable cards and galleries
- Pull-to-refresh where appropriate

### Responsive Patterns
**Adapt layouts intelligently:**
- Hamburger menu → full nav bar
- Card grid → stack on mobile
- Sidebar → drawer
- Multi-column → single column
- Data tables → card list
- Hide/show elements based on viewport

---

## Loading & Empty States

### Loading States
**Never leave users wondering:**
- Skeleton screens matching content layout
- Progress bars for known durations
- Animated placeholders
- Spinners only for short waits (<3s)
- Stagger loading for multiple elements
- Shimmer effects on skeletons

### Empty States
**Make empty states helpful:**
- Illustrations or icons
- Helpful copy explaining why it's empty
- Clear CTA to add first item
- Examples or suggestions
- No "no data" text alone

---

## Unique Elements to Stand Out

### Distinctive Features
**Add personality:**
- Custom cursor effects on landing pages
- Animated page numbers or section indicators
- Unusual hover effects (magnification, distortion)
- Custom scrollbars
- Glassmorphism for overlays
- Animated SVG icons
- Typewriter effects for hero text
- Confetti or celebration animations for actions

### Interactive Elements
**Engage users:**
- Drag-and-drop interfaces
- Sliders and range controls
- Toggle switches with animations
- Progress steps with animations
- Expandable/collapsible sections
- Tabs with slide indicators
- Image comparison sliders
- Interactive demos or playgrounds

---

## Consistency Rules

### Maintain Consistency
**What should stay consistent:**
- Spacing scale (4px, 8px, 16px, 24px, 32px, 48px, 64px)
- Border radius values
- Animation timing (200ms, 300ms, 500ms)
- Color system (primary, secondary, accent, neutrals)
- Typography scale
- Icon style (outline vs filled)
- Button styles across the app
- Form element styles

### What Can Vary
**Project-specific customization:**
- Color palette (different colors, same system)
- Layout creativity (grids, asymmetry)
- Illustration style
- Animation personality
- Feature-specific interactions
- Hero section design
- Card styling variations
- Background patterns or textures

---

## Technical Excellence

### Performance
- Optimize images (WebP, lazy loading)
- Code splitting for faster loads
- Debounce search inputs
- Virtualize long lists
- Minimize re-renders
- Use proper memoization

### Accessibility
- Keyboard navigation throughout
- ARIA labels where needed
- Focus indicators visible
- Screen reader friendly
- Sufficient color contrast
- Respect reduced motion preferences

---

## Key Principles

1. **Be Bold** - Don't be afraid to try unique layouts and interactions
2. **Be Consistent** - Use the same patterns for similar functions
3. **Be Responsive** - Design works beautifully on all devices
4. **Be Fast** - Animations are smooth, loading is quick
5. **Be Accessible** - Everyone can use what you build
6. **Be Modern** - Use current design trends and technologies
7. **Be Unique** - Each project should have its own personality
8. **Be Intuitive** - Users shouldn't need instructions


*IMPORTANT*: For every page or component refer to # Modern Design Best Practices

## Philosophy

Create unique, memorable experiences while maintaining consistency through modern design principles. Every project should feel distinct yet professional, innovative yet intuitive.

---

## Landing Pages & Marketing Sites

### Hero Sections
**Go beyond static backgrounds:**
- Animated gradients with subtle movement
- Particle systems or geometric shapes floating
- Interactive canvas backgrounds (Three.js, WebGL)
- Video backgrounds with proper fallbacks
- Parallax scrolling effects
- Gradient mesh animations
- Morphing blob animations


### Layout Patterns
**Use modern grid systems:**
- Bento grids (asymmetric card layouts)
- Masonry layouts for varied content
- Feature sections with diagonal cuts or curves
- Overlapping elements with proper z-index
- Split-screen designs with scroll-triggered reveals

**Avoid:** Traditional 3-column equal grids

### Scroll Animations
**Engage users as they scroll:**
- Fade-in and slide-up animations for sections
- Scroll-triggered parallax effects
- Progress indicators for long pages
- Sticky elements that transform on scroll
- Horizontal scroll sections for portfolios
- Text reveal animations (word by word, letter by letter)
- Number counters animating into view

**Avoid:** Static pages with no scroll interaction

### Call-to-Action Areas
**Make CTAs impossible to miss:**
- Gradient buttons with hover effects
- Floating action buttons with micro-interactions
- Animated borders or glowing effects
- Scale/lift on hover
- Interactive elements that respond to mouse position
- Pulsing indicators for primary actions

---

## Dashboard Applications

### Layout Structure
**Always use collapsible side navigation:**
- Sidebar that can collapse to icons only
- Smooth transition animations between states
- Persistent navigation state (remember user preference)
- Mobile: drawer that slides in/out
- Desktop: sidebar with expand/collapse toggle
- Icons visible even when collapsed

**Structure:**
```
/dashboard (layout wrapper with sidebar)
  /dashboard/overview
  /dashboard/analytics
  /dashboard/settings
  /dashboard/users
  /dashboard/projects
```

All dashboard pages should be nested inside the dashboard layout, not separate routes.

### Data Tables
**Modern table design:**
- Sticky headers on scroll
- Row hover states with subtle elevation
- Sortable columns with clear indicators
- Pagination with items-per-page control
- Search/filter with instant feedback
- Selection checkboxes with bulk actions
- Responsive: cards on mobile, table on desktop
- Loading skeletons, not spinners
- Empty states with illustrations or helpful text

**Use modern table libraries:**
- TanStack Table (React Table v8)
- AG Grid for complex data
- Data Grid from MUI (if using MUI)

### Charts & Visualizations
**Use the latest charting libraries:**
- Recharts (for React, simple charts)
- Chart.js v4 (versatile, well-maintained)
- Apache ECharts (advanced, interactive)
- D3.js (custom, complex visualizations)
- Tremor (for dashboards, built on Recharts)

**Chart best practices:**
- Animated transitions when data changes
- Interactive tooltips with detailed info
- Responsive sizing
- Color scheme matching design system
- Legend placement that doesn't obstruct data
- Loading states while fetching data

### Dashboard Cards
**Metric cards should stand out:**
- Gradient backgrounds or colored accents
- Trend indicators (↑ ↓ with color coding)
- Sparkline charts for historical data
- Hover effects revealing more detail
- Icon representing the metric
- Comparison to previous period

---

## Color & Visual Design

### Color Palettes
**Create depth with gradients:**
- Primary gradient (not just solid primary color)
- Subtle background gradients
- Gradient text for headings
- Gradient borders on cards
- Elevated surfaces for depth

**Color usage:**
- 60-30-10 rule (dominant, secondary, accent)
- Consistent semantic colors (success, warning, error)
- Accessible contrast ratios (WCAG AA minimum)

### Typography
**Create hierarchy through contrast:**
- Large, bold headings (48-72px for heroes)
- Clear size differences between levels
- Variable font weights (300, 400, 600, 700)
- Letter spacing for small caps
- Line height 1.5-1.7 for body text
- Inter, Poppins, or DM Sans for modern feel

### Shadows & Depth
**Layer UI elements:**
- Multi-layer shadows for realistic depth
- Colored shadows matching element color
- Elevated states on hover
- Neumorphism for special elements (sparingly)

---

## Interactions & Micro-animations

### Button Interactions
**Every button should react:**
- Scale slightly on hover (1.02-1.05)
- Lift with shadow on hover
- Ripple effect on click
- Loading state with spinner or progress
- Disabled state clearly visible
- Success state with checkmark animation

### Card Interactions
**Make cards feel alive:**
- Lift on hover with increased shadow
- Subtle border glow on hover
- Tilt effect following mouse (3D transform)
- Smooth transitions (200-300ms)
- Click feedback for interactive cards

### Form Interactions
**Guide users through forms:**
- Input focus states with border color change
- Floating labels that animate up
- Real-time validation with inline messages
- Success checkmarks for valid inputs
- Error states with shake animation
- Password strength indicators
- Character count for text areas

### Page Transitions
**Smooth between views:**
- Fade + slide for page changes
- Skeleton loaders during data fetch
- Optimistic UI updates
- Stagger animations for lists
- Route transition animations

---

## Mobile Responsiveness

### Mobile-First Approach
**Design for mobile, enhance for desktop:**
- Touch targets minimum 44x44px
- Generous padding and spacing
- Sticky bottom navigation on mobile
- Collapsible sections for long content
- Swipeable cards and galleries
- Pull-to-refresh where appropriate

### Responsive Patterns
**Adapt layouts intelligently:**
- Hamburger menu → full nav bar
- Card grid → stack on mobile
- Sidebar → drawer
- Multi-column → single column
- Data tables → card list
- Hide/show elements based on viewport

---

## Loading & Empty States

### Loading States
**Never leave users wondering:**
- Skeleton screens matching content layout
- Progress bars for known durations
- Animated placeholders
- Spinners only for short waits (<3s)
- Stagger loading for multiple elements
- Shimmer effects on skeletons

### Empty States
**Make empty states helpful:**
- Illustrations or icons
- Helpful copy explaining why it's empty
- Clear CTA to add first item
- Examples or suggestions
- No "no data" text alone

---

## Unique Elements to Stand Out

### Distinctive Features
**Add personality:**
- Custom cursor effects on landing pages
- Animated page numbers or section indicators
- Unusual hover effects (magnification, distortion)
- Custom scrollbars
- Glassmorphism for overlays
- Animated SVG icons
- Typewriter effects for hero text
- Confetti or celebration animations for actions

### Interactive Elements
**Engage users:**
- Drag-and-drop interfaces
- Sliders and range controls
- Toggle switches with animations
- Progress steps with animations
- Expandable/collapsible sections
- Tabs with slide indicators
- Image comparison sliders
- Interactive demos or playgrounds

---

## Consistency Rules

### Maintain Consistency
**What should stay consistent:**
- Spacing scale (4px, 8px, 16px, 24px, 32px, 48px, 64px)
- Border radius values
- Animation timing (200ms, 300ms, 500ms)
- Color system (primary, secondary, accent, neutrals)
- Typography scale
- Icon style (outline vs filled)
- Button styles across the app
- Form element styles

### What Can Vary
**Project-specific customization:**
- Color palette (different colors, same system)
- Layout creativity (grids, asymmetry)
- Illustration style
- Animation personality
- Feature-specific interactions
- Hero section design
- Card styling variations
- Background patterns or textures

---

## Technical Excellence

### Performance
- Optimize images (WebP, lazy loading)
- Code splitting for faster loads
- Debounce search inputs
- Virtualize long lists
- Minimize re-renders
- Use proper memoization

### Accessibility
- Keyboard navigation throughout
- ARIA labels where needed
- Focus indicators visible
- Screen reader friendly
- Sufficient color contrast
- Respect reduced motion preferences

---

## Key Principles

1. **Be Bold** - Don't be afraid to try unique layouts and interactions
2. **Be Consistent** - Use the same patterns for similar functions
3. **Be Responsive** - Design works beautifully on all devices
4. **Be Fast** - Animations are smooth, loading is quick
5. **Be Accessible** - Everyone can use what you build
6. **Be Modern** - Use current design trends and technologies
7. **Be Unique** - Each project should have its own personality
8. **Be Intuitive** - Users shouldn't need instructions
 for bestpractices and # Dashboard

## Overview
Build a user-specific Dashboard for Archject that surfaces active design projects, decisions awaiting client response, recent activity, and quick actions to create a decision or share client links. This dashboard will integrate with a Notifications & Reminders system, robust authentication and workspace management, search & filtering capabilities, analytics for studios, and project/workspace administration. The UI emphasizes clarity, brand coherence, and mobile-first accessibility, with a clean card-based layout, intuitive navigation, and responsive data visualizations.

## Page Description (Full Detail)
What this page is:
- A single integrated Dashboard tailored to the logged-in user, presenting a snapshot of their current design projects and decisions. It aggregates data from active projects, pending client approvals, recent activity, and quick-action affordances.

Goals:
- Provide at-a-glance visibility into active workstreams, decisions requiring client input, and recent events.
- Enable rapid actions: create a new decision, share a client link, or navigate to a project/workspace for deeper management.
- Tie in with notifications and reminders to surface pending items via in-app, email, and optional SMS notifications.
- Harmonize with workspace branding, storage quotas, and template usage metrics from analytics.
- Support enterprise flows through SSO/workspace management, and mobile-friendly interactions.

Connected features & UI elements:
- Topbar
  - Workspace selector to switch between workspaces
  - Global search
  - Notifications bell with in-app panel
  - User avatar/profile menu with settings and sign-out
- Action Quick Bar
  - Buttons for: Create Decision, Create Project, Upload Drawing, Invite Client
  - Optional shortcuts to share client links or export a summary
- Projects Overview
  - Card/grid layout showing each active project with progress, active decisions count, last activity timestamp
  - Visual progress bars, project branding/thumbnail, and quick action links
- Awaiting Approvals Panel
  - List of decisions awaiting client action, with due dates, responsible client, and quick share/copy-link actions
  - Status chips (pending/overdue) using the design system
- Recent Activity Feed
  - Time-stamped events: approvals, comments, uploads, status changes
  - Compact rows with icons and concise summaries
- Usage Snapshot
  - Counters for projects, decisions, files, and storage usage
  - CTA to Billing if storage or quota limits are near
- Quick Links / Shortcuts
  - Access to common tasks, templates, and recently opened projects
- Visual styling guidance (consistent with Design System below)

UI guidance and behavior:
- Cards with white background, soft shadows, rounded corners, generous padding
- Hover states provide subtle elevation and background shift
- Clear typographic hierarchy for titles, section headers, and body text
- Consistent use of 8px spacing increments and 24–32px container padding
- Status indicators use the defined accent colors
- Data visualizations (analytics) are embedded within cards, with light grid lines and accessible legends
- All interactive elements follow accessible focus states and large hit targets

Visual guidance notes:
- Maintain a clean, minimal canvas with ample white space
- Primary actions use the deep green accent (#195C4A)
- Use bright green (#7BE495) for success/positive indicators
- Use soft yellow (#FFE8A3) and muted orange (#FFDCA8) for warnings/ongoing statuses
- Use light red (#FF6C6C) for destructive or overdue signals
- Typography: Inter/SF Pro/Manrope family, weights as specified earlier

Visual style and design tokens (already provided in the project spec) should be strictly followed to ensure consistency with other pages (Login, Analytics, Decisions List, etc.)

Connected pages & features (for integration touchpoints):
- Login / Signup Page: Unified authentication with email/password and Google OAuth; enterprise SSO groundwork
- Email Verification Page: Token-based verification flow
- Analytics & Reports: Studio-facing analytics for decision bottlenecks, client responsiveness, and template performance
- Decisions List / Content Browser: Bulk actions, search, and filters for decisions (reusable in dashboard widgets)
- Project Workspace Page: Access to project-level details, branding, and templates
- Notifications & Reminders: In-app notifications and email/SMS pipelines
- Search & Filter Functionality: Cross-entity search for projects, decisions, files, comments
- Project & Workspace Management: Branding, templates, storage quotas

API design considerations (no external APIs connected in this scope, but structure should be extensible to API integration)
- Internal APIs to fetch: user profile, workspace context, list of active projects, count of awaiting approvals, recent activity, storage quotas, analytics metrics
- Real-time readiness: consider WebSocket or long-polling hooks for live updates (optional)
- Security: ensure per-user data access via authorization tokens and workspace scoping

## Components to Build
- Topbar
  - Workspace selector, search input, notification bell, user menu
- Action Quick Bar
  - Set of primary action buttons with tooltips
- Projects Overview Grid
  - ProjectCard component: title, branding thumbnail, progress bar, last activity, actions
- Awaiting Approvals Panel
  - ApprovalItem component: decision title, due date, client, share/link button, status badge
- Recent Activity Feed
  - ActivityItem: timestamp, actor, action type, summary
- Usage Snapshot Card
  - Metrics row: projects, decisions, files, storage usage; billing CTA
- Analytics Widgets (embedded, optional)
  - Mini charts or sparkline components showing decision bottlenecks and client responsiveness
- Quick Actions Drawer/Modal (optional)
  - Create Decision modal, Create Project modal
- Data Visualizations
  - ChartCard: line/bar charts with legends and axis labels
- Status Tag and Badges
  - StatusLabel component with color-coded backgrounds

## Implementation Requirements

### Frontend
- Build a responsive Dashboard layout with:
  - Left-aligned content, top navigation, and a responsive grid for cards
  - Components with accessible ARIA roles and keyboard navigation
  - Theme tokens for all colors, typography, radii, shadows
- Re-usable components to align with existing design system:
  - Card, Button (primary/secondary), Tag/Badge, Avatar, IconButton, TableSnippet (for decisions previews)
- Interactions:
  - Hover elevations, click/press feedback, focus rings, keyboard shortcuts for primary actions
- Data loading states:
  - Skeletons/placeholders for loading panels
  - Empty states with guidance and CTAs
- Internationalization-ready strings (i18n)
- Accessibility:
  - WCAG AA compliance targets for color contrast, focus order, aria-labels
- Performance:
  - Lazy-load sections, pagination or virtualization for long lists, memoization where appropriate
- Responsive behavior:
  - Breakpoints for mobile (≤ 768px), tablet, and desktop; adapt grid columns and component stacking
- API integration stubs:
  - Define fetch hooks (e.g., useDashboardData) that can be wired to actual APIs later

### Backend
- Data models (schema sketch)
  - User: id, email, name, avatar, preferences, sessions
  - Workspace: id, name, branding, quota, templates, owner_id, member_ids
  - Project: id, workspace_id, name, branding, progress, last_activity, due_dates, storage_used
  - Decision: id, project_id, status, title, options, pending_client_review, last_updated
  - ActivityLog: id, project_id, action_type, actor_id, timestamp, summary
  - NotificationPreference: user_id, channels (in-app, email, sms), time_settings
  - StorageQuota: workspace_id, gross_quota, used
  - Template: id, workspace_id, name, usage_count
- APIs (endpoints)
  - GET /api/dashboard (authenticated) -> dashboard payload with projects, approvals, activities, usage
  - GET /api/workspaces (list, by user) -> workspace metadata
  - GET /api/projects?filters=... -> list with progress, last_activity
  - GET /api/decisions/awaiting-client (pending approvals)
  - POST /api/decisions (create)
  - POST /api/share/link (generate client link)
  - GET /api/activities/recent (recent activity)
  - GET /api/usage (storage and quota metrics)
  - POST /api/notifications/subscribe (set notification preferences)
  - PATCH /api/user/profile (update profile)
- Database considerations
  - Normalize to avoid data duplication; use indices on project_id, status, last_activity, and due dates
  - Soft deletes where appropriate (for audit trails)
  - Audit/logging for user actions on decisions and projects

### Integration
- Frontend to Backend
  - Secure, token-based authentication (JWT or session-based depending on existing stack)
  - Workspace-scoped data retrieval; ensure multi-workspace isolation
  - Centralized error handling and user-friendly error messages
- UI to analytics/logging
  - Emit events for user actions (create decision, share link) to analytics pipeline
- Notification systems
  - Hooks/handlers to trigger in-app notifications, emails, and optional SMS reminders based on decision timelines

## User Experience Flow
- User lands on Dashboard after login
  - Dashboard loads with a workspace context
  - Topbar shows workspace selector, search, notifications, user menu
  - Quick Bar offers Create Decision, Create Project, Upload Drawing, Invite Client
  - Projects Overview grid displays active projects with progress and last activity
  - Awaiting Approvals panel lists decisions needing client input with due dates and quick share
  - Recent Activity feed shows latest actions
  - Usage Snapshot reveals current counts and storage with billing CTA
- User clicks “Create Decision”
  - Opens modal or navigates to Decisions List with pre-filled project context
  - Upon save, the dashboard updates the project’s last activity and the approvals panel refreshes
- User clicks “Share Client Link”
  - Generates a secure link associated with a decision or project
  - Copies to clipboard and displays a toast; option to email/share directly
- User interacts with Analytics widgets (studio-facing)
  - Views metrics like decision bottlenecks, client responsiveness, template performance
  - Drills down to a specific project or template for deeper insight
- User receives a notification
  - In-app notification appears; if opted-in, an email and/or SMS is sent
  - Clicking notification navigates to the relevant item (decision, project, or activity)
- User switches workspace
  - Dashboard reloads with data filtered to the selected workspace
  - Branding (logo, colors) updates to match the active workspace

## Technical Specifications
- Data Models: defined above
- API Endpoints: defined above
- Security:
  - Authentication: session-based or token-based, with OAuth integration placeholder
  - Authorization: per-workspace scoping; users only access data within their workspaces
  - Data encryption at rest and in transit (TLS)
  - Rate limiting and input sanitization
- Validation:
  - Frontend form validations for Create Decision/Project
  - Server-side validation for payload integrity
  - Email/SMS token validations where applicable
- Performance:
  - Server-side pagination and/or virtualization for long lists
  - Debounced search input
  - Caching strategies for analytics metrics (where appropriate)

## Acceptance Criteria
- [ ] Dashboard renders with: active projects, awaiting approvals, recent activity, and usage snapshot within 2 seconds on a standard dev environment
- [ ] All UI components follow the Design System: colors, typography, spacing, and behavior; responsive layout works on mobile and desktop
- [ ] Create Decision and Share Client Link actions function end-to-end and reflect in dashboard state
- [ ] Awaiting Approvals panel accurately lists decisions with correct due dates and statuses
- [ ] Notifications system triggers in-app and email messages for pending approvals and comments
- [ ] Search & Filters: full-text search across projects, decisions, files, and comments with facet filters
- [ ] Analytics widgets render correct studio metrics (bottlenecks, client responsiveness, template usage)
- [ ] Project & Workspace Management flows: create/manage projects/workspaces with branding and quota visibility
- [ ] Security: authentication and workspace isolation prevent cross-workspace data access
- [ ] Accessibility: keyboard navigable, screen-reader friendly, color-contrast compliant

## UI/UX Guidelines
Apply the project's design system:
- Use white cards with soft shadows, 12–16px corner radii
- Primary actions in deep green (#195C4A); success in bright green (#7BE495)
- Use soft gray backgrounds (#F5F6FA, #F7F8FA) for cards and inputs
- Text: Dark gray headings (#23272F), medium gray labels (#6B7280)
- Charts: minimal grid, soft axes; positive/negative indicators with color cues
- Navigation: top bar with workspace selector; left-aligned content; floating profile/actions to the right
- Interactive elements: pill-shaped buttons; hover/focus states with subtle elevation and color shifts
- Mobile-first: large tap targets, clear feedback, responsive stacking

---

## Visual Style

(As defined in the provided Visual Style section; ensure consistency with all other project pages.)

---

## Data & API Surface Summary (for AI integration)
- No external APIs required for this task, but implement the data contracts so it can be wired to real services later.
- Dashboard payload example (contract-level):
  - user: { id, name, avatar }
  - workspace: { id, name, branding }
  - projects: [ { id, name, progress, last_activity, active_decisions_count, branding } ]
  - awaiting_approvals: [ { decision_id, title, project_id, due_date, client_email, share_link } ]
  - recent_activity: [ { id, type, timestamp, summary, actor } ]
  - usage: { projects_count, decisions_count, files_count, storage_used, storage_quota }

---

## Prompt Summary for AI Development Tool
Create a complete, production-ready implementation plan and code scaffolding for the Dashboard feature set described above, including frontend components, backend data models and APIs, and integration points. The deliverable should be ready for a new/existing codebase with a modular architecture, thorough typing (TypeScript preferred), and alignment to the Archject design system. Include:

- Architectural diagram and data flow
- Detailed component spec with props, state, and interactions
- API contracts with request/response schemas
- Database schema sketches with indices and relationships
- Security and authentication requirements
- Validation rules and error handling
- UI wireframes or ready-to-render component trees
- Accessibility checklist and testing plan
- Deployment notes and feature toggles (for enabling/disabling dashboard widgets)
- Clear migration/extension steps if integrating into an existing monorepo

This prompt should yield a fully fleshed-out implementation plan, ready-to-code, that a developer tool can execute to generate the Dashboard feature end-to-end. for style.

CRITICAL DESIGN REQUIREMENTS:
- You MUST follow ALL design principles and patterns specified in the Design Reference above
- Do NOT deviate from the design specifications without explicit user permission
- Implement ALL visual design elements (colors, typography, spacing, shadows, animations) as specified
- Follow the layout patterns and component designs exactly as documented
- Ensure all interactions and micro-animations match the reference specifications

CRITICAL TECHNICAL REQUIREMENTS:
- React 18.3.1, React Router 6.30.1
- Tailwind CSS v3 with tailwind.config.js and custom keyframes
- @tailwindcss/typography plugin for rich text content
- Tailwind CSS animations (NOT Motion library or framer-motion)
- Sonner for toasts
- Recharts for data visualization
- Native fetch() with API utilities in src/lib/api.ts
- Design system with CSS custom properties
- Use RGB color values for theming
- When Supabase is configured: use Edge Functions for LLM and server-only logic; never expose API keys in the client

=== TASK ===
# Dashboard

## Overview
Build a user-specific Dashboard for Archject that surfaces active design projects, decisions awaiting client response, recent activity, and quick actions to create a decision or share client links. This dashboard will integrate with a Notifications & Reminders system, robust authentication and workspace management, search & filtering capabilities, analytics for studios, and project/workspace administration. The UI emphasizes clarity, brand coherence, and mobile-first accessibility, with a clean card-based layout, intuitive navigation, and responsive data visualizations.

## Page Description (Full Detail)
What this page is:
- A single integrated Dashboard tailored to the logged-in user, presenting a snapshot of their current design projects and decisions. It aggregates data from active projects, pending client approvals, recent activity, and quick-action affordances.

Goals:
- Provide at-a-glance visibility into active workstreams, decisions requiring client input, and recent events.
- Enable rapid actions: create a new decision, share a client link, or navigate to a project/workspace for deeper management.
- Tie in with notifications and reminders to surface pending items via in-app, email, and optional SMS notifications.
- Harmonize with workspace branding, storage quotas, and template usage metrics from analytics.
- Support enterprise flows through SSO/workspace management, and mobile-friendly interactions.

Connected features & UI elements:
- Topbar
  - Workspace selector to switch between workspaces
  - Global search
  - Notifications bell with in-app panel
  - User avatar/profile menu with settings and sign-out
- Action Quick Bar
  - Buttons for: Create Decision, Create Project, Upload Drawing, Invite Client
  - Optional shortcuts to share client links or export a summary
- Projects Overview
  - Card/grid layout showing each active project with progress, active decisions count, last activity timestamp
  - Visual progress bars, project branding/thumbnail, and quick action links
- Awaiting Approvals Panel
  - List of decisions awaiting client action, with due dates, responsible client, and quick share/copy-link actions
  - Status chips (pending/overdue) using the design system
- Recent Activity Feed
  - Time-stamped events: approvals, comments, uploads, status changes
  - Compact rows with icons and concise summaries
- Usage Snapshot
  - Counters for projects, decisions, files, and storage usage
  - CTA to Billing if storage or quota limits are near
- Quick Links / Shortcuts
  - Access to common tasks, templates, and recently opened projects
- Visual styling guidance (consistent with Design System below)

UI guidance and behavior:
- Cards with white background, soft shadows, rounded corners, generous padding
- Hover states provide subtle elevation and background shift
- Clear typographic hierarchy for titles, section headers, and body text
- Consistent use of 8px spacing increments and 24–32px container padding
- Status indicators use the defined accent colors
- Data visualizations (analytics) are embedded within cards, with light grid lines and accessible legends
- All interactive elements follow accessible focus states and large hit targets

Visual guidance notes:
- Maintain a clean, minimal canvas with ample white space
- Primary actions use the deep green accent (#195C4A)
- Use bright green (#7BE495) for success/positive indicators
- Use soft yellow (#FFE8A3) and muted orange (#FFDCA8) for warnings/ongoing statuses
- Use light red (#FF6C6C) for destructive or overdue signals
- Typography: Inter/SF Pro/Manrope family, weights as specified earlier

Visual style and design tokens (already provided in the project spec) should be strictly followed to ensure consistency with other pages (Login, Analytics, Decisions List, etc.)

Connected pages & features (for integration touchpoints):
- Login / Signup Page: Unified authentication with email/password and Google OAuth; enterprise SSO groundwork
- Email Verification Page: Token-based verification flow
- Analytics & Reports: Studio-facing analytics for decision bottlenecks, client responsiveness, and template performance
- Decisions List / Content Browser: Bulk actions, search, and filters for decisions (reusable in dashboard widgets)
- Project Workspace Page: Access to project-level details, branding, and templates
- Notifications & Reminders: In-app notifications and email/SMS pipelines
- Search & Filter Functionality: Cross-entity search for projects, decisions, files, comments
- Project & Workspace Management: Branding, templates, storage quotas

API design considerations (no external APIs connected in this scope, but structure should be extensible to API integration)
- Internal APIs to fetch: user profile, workspace context, list of active projects, count of awaiting approvals, recent activity, storage quotas, analytics metrics
- Real-time readiness: consider WebSocket or long-polling hooks for live updates (optional)
- Security: ensure per-user data access via authorization tokens and workspace scoping

## Components to Build
- Topbar
  - Workspace selector, search input, notification bell, user menu
- Action Quick Bar
  - Set of primary action buttons with tooltips
- Projects Overview Grid
  - ProjectCard component: title, branding thumbnail, progress bar, last activity, actions
- Awaiting Approvals Panel
  - ApprovalItem component: decision title, due date, client, share/link button, status badge
- Recent Activity Feed
  - ActivityItem: timestamp, actor, action type, summary
- Usage Snapshot Card
  - Metrics row: projects, decisions, files, storage usage; billing CTA
- Analytics Widgets (embedded, optional)
  - Mini charts or sparkline components showing decision bottlenecks and client responsiveness
- Quick Actions Drawer/Modal (optional)
  - Create Decision modal, Create Project modal
- Data Visualizations
  - ChartCard: line/bar charts with legends and axis labels
- Status Tag and Badges
  - StatusLabel component with color-coded backgrounds

## Implementation Requirements

### Frontend
- Build a responsive Dashboard layout with:
  - Left-aligned content, top navigation, and a responsive grid for cards
  - Components with accessible ARIA roles and keyboard navigation
  - Theme tokens for all colors, typography, radii, shadows
- Re-usable components to align with existing design system:
  - Card, Button (primary/secondary), Tag/Badge, Avatar, IconButton, TableSnippet (for decisions previews)
- Interactions:
  - Hover elevations, click/press feedback, focus rings, keyboard shortcuts for primary actions
- Data loading states:
  - Skeletons/placeholders for loading panels
  - Empty states with guidance and CTAs
- Internationalization-ready strings (i18n)
- Accessibility:
  - WCAG AA compliance targets for color contrast, focus order, aria-labels
- Performance:
  - Lazy-load sections, pagination or virtualization for long lists, memoization where appropriate
- Responsive behavior:
  - Breakpoints for mobile (≤ 768px), tablet, and desktop; adapt grid columns and component stacking
- API integration stubs:
  - Define fetch hooks (e.g., useDashboardData) that can be wired to actual APIs later

### Backend
- Data models (schema sketch)
  - User: id, email, name, avatar, preferences, sessions
  - Workspace: id, name, branding, quota, templates, owner_id, member_ids
  - Project: id, workspace_id, name, branding, progress, last_activity, due_dates, storage_used
  - Decision: id, project_id, status, title, options, pending_client_review, last_updated
  - ActivityLog: id, project_id, action_type, actor_id, timestamp, summary
  - NotificationPreference: user_id, channels (in-app, email, sms), time_settings
  - StorageQuota: workspace_id, gross_quota, used
  - Template: id, workspace_id, name, usage_count
- APIs (endpoints)
  - GET /api/dashboard (authenticated) -> dashboard payload with projects, approvals, activities, usage
  - GET /api/workspaces (list, by user) -> workspace metadata
  - GET /api/projects?filters=... -> list with progress, last_activity
  - GET /api/decisions/awaiting-client (pending approvals)
  - POST /api/decisions (create)
  - POST /api/share/link (generate client link)
  - GET /api/activities/recent (recent activity)
  - GET /api/usage (storage and quota metrics)
  - POST /api/notifications/subscribe (set notification preferences)
  - PATCH /api/user/profile (update profile)
- Database considerations
  - Normalize to avoid data duplication; use indices on project_id, status, last_activity, and due dates
  - Soft deletes where appropriate (for audit trails)
  - Audit/logging for user actions on decisions and projects

### Integration
- Frontend to Backend
  - Secure, token-based authentication (JWT or session-based depending on existing stack)
  - Workspace-scoped data retrieval; ensure multi-workspace isolation
  - Centralized error handling and user-friendly error messages
- UI to analytics/logging
  - Emit events for user actions (create decision, share link) to analytics pipeline
- Notification systems
  - Hooks/handlers to trigger in-app notifications, emails, and optional SMS reminders based on decision timelines

## User Experience Flow
- User lands on Dashboard after login
  - Dashboard loads with a workspace context
  - Topbar shows workspace selector, search, notifications, user menu
  - Quick Bar offers Create Decision, Create Project, Upload Drawing, Invite Client
  - Projects Overview grid displays active projects with progress and last activity
  - Awaiting Approvals panel lists decisions needing client input with due dates and quick share
  - Recent Activity feed shows latest actions
  - Usage Snapshot reveals current counts and storage with billing CTA
- User clicks “Create Decision”
  - Opens modal or navigates to Decisions List with pre-filled project context
  - Upon save, the dashboard updates the project’s last activity and the approvals panel refreshes
- User clicks “Share Client Link”
  - Generates a secure link associated with a decision or project
  - Copies to clipboard and displays a toast; option to email/share directly
- User interacts with Analytics widgets (studio-facing)
  - Views metrics like decision bottlenecks, client responsiveness, template performance
  - Drills down to a specific project or template for deeper insight
- User receives a notification
  - In-app notification appears; if opted-in, an email and/or SMS is sent
  - Clicking notification navigates to the relevant item (decision, project, or activity)
- User switches workspace
  - Dashboard reloads with data filtered to the selected workspace
  - Branding (logo, colors) updates to match the active workspace

## Technical Specifications
- Data Models: defined above
- API Endpoints: defined above
- Security:
  - Authentication: session-based or token-based, with OAuth integration placeholder
  - Authorization: per-workspace scoping; users only access data within their workspaces
  - Data encryption at rest and in transit (TLS)
  - Rate limiting and input sanitization
- Validation:
  - Frontend form validations for Create Decision/Project
  - Server-side validation for payload integrity
  - Email/SMS token validations where applicable
- Performance:
  - Server-side pagination and/or virtualization for long lists
  - Debounced search input
  - Caching strategies for analytics metrics (where appropriate)

## Acceptance Criteria
- [ ] Dashboard renders with: active projects, awaiting approvals, recent activity, and usage snapshot within 2 seconds on a standard dev environment
- [ ] All UI components follow the Design System: colors, typography, spacing, and behavior; responsive layout works on mobile and desktop
- [ ] Create Decision and Share Client Link actions function end-to-end and reflect in dashboard state
- [ ] Awaiting Approvals panel accurately lists decisions with correct due dates and statuses
- [ ] Notifications system triggers in-app and email messages for pending approvals and comments
- [ ] Search & Filters: full-text search across projects, decisions, files, and comments with facet filters
- [ ] Analytics widgets render correct studio metrics (bottlenecks, client responsiveness, template usage)
- [ ] Project & Workspace Management flows: create/manage projects/workspaces with branding and quota visibility
- [ ] Security: authentication and workspace isolation prevent cross-workspace data access
- [ ] Accessibility: keyboard navigable, screen-reader friendly, color-contrast compliant

## UI/UX Guidelines
Apply the project's design system:
- Use white cards with soft shadows, 12–16px corner radii
- Primary actions in deep green (#195C4A); success in bright green (#7BE495)
- Use soft gray backgrounds (#F5F6FA, #F7F8FA) for cards and inputs
- Text: Dark gray headings (#23272F), medium gray labels (#6B7280)
- Charts: minimal grid, soft axes; positive/negative indicators with color cues
- Navigation: top bar with workspace selector; left-aligned content; floating profile/actions to the right
- Interactive elements: pill-shaped buttons; hover/focus states with subtle elevation and color shifts
- Mobile-first: large tap targets, clear feedback, responsive stacking

---

## Visual Style

(As defined in the provided Visual Style section; ensure consistency with all other project pages.)

---

## Data & API Surface Summary (for AI integration)
- No external APIs required for this task, but implement the data contracts so it can be wired to real services later.
- Dashboard payload example (contract-level):
  - user: { id, name, avatar }
  - workspace: { id, name, branding }
  - projects: [ { id, name, progress, last_activity, active_decisions_count, branding } ]
  - awaiting_approvals: [ { decision_id, title, project_id, due_date, client_email, share_link } ]
  - recent_activity: [ { id, type, timestamp, summary, actor } ]
  - usage: { projects_count, decisions_count, files_count, storage_used, storage_quota }

---

## Prompt Summary for AI Development Tool
Create a complete, production-ready implementation plan and code scaffolding for the Dashboard feature set described above, including frontend components, backend data models and APIs, and integration points. The deliverable should be ready for a new/existing codebase with a modular architecture, thorough typing (TypeScript preferred), and alignment to the Archject design system. Include:

- Architectural diagram and data flow
- Detailed component spec with props, state, and interactions
- API contracts with request/response schemas
- Database schema sketches with indices and relationships
- Security and authentication requirements
- Validation rules and error handling
- UI wireframes or ready-to-render component trees
- Accessibility checklist and testing plan
- Deployment notes and feature toggles (for enabling/disabling dashboard widgets)
- Clear migration/extension steps if integrating into an existing monorepo

This prompt should yield a fully fleshed-out implementation plan, ready-to-code, that a developer tool can execute to generate the Dashboard feature end-to-end.

=== SUCCESS CRITERIA ===
# Success Criteria Checklist

## Code Quality

### TypeScript
- [ ] No TypeScript errors (`tsc --noEmit` passes)
- [ ] All functions and components have proper type definitions
- [ ] No `any` types used (use `unknown` if type is truly unknown)
- [ ] Props interfaces defined for all components
- [ ] API responses have type definitions

### Code Standards
- [ ] All imports use path aliases (@/ prefix)
- [ ] Components follow the established naming convention
- [ ] Files are organized in correct directories
- [ ] No unused imports or variables
- [ ] Consistent code formatting

## Component Implementation

### UI Components
- [ ] Use shadcn/ui components (Button, Card, Input, etc.) instead of building from scratch
- [ ] All interactive elements have hover states
- [ ] Components use the `cn()` utility for class merging
- [ ] Proper TypeScript props interfaces defined
- [ ] Components are responsive (mobile, tablet, desktop)

### Animations
- [ ] Motion library used for all animations (NOT framer-motion)
- [ ] Page transitions implemented with fade/slide
- [ ] Interactive elements have whileHover/whileTap animations
- [ ] List items use stagger animations where appropriate
- [ ] Animations respect `prefers-reduced-motion`

### Icons
- [ ] Lucide React icons used consistently
- [ ] Icons have consistent sizing (h-4 w-4, h-5 w-5, h-6 w-6)
- [ ] Icon colors match design system (text-primary, text-muted-foreground)

## Data Management

### React Query
- [ ] All data fetching uses React Query hooks
- [ ] Query keys follow the established pattern
- [ ] Mutations invalidate related queries
- [ ] Loading and error states handled
- [ ] Optimistic updates implemented where appropriate

### Forms
- [ ] Forms use react-hook-form
- [ ] Validation uses Zod schemas
- [ ] Error messages display properly
- [ ] Form submission shows loading state
- [ ] Success/error feedback via toast notifications

### API Layer
- [ ] API functions in src/api/ directory
- [ ] Axios used for HTTP requests
- [ ] Proper error handling with try/catch
- [ ] Auth tokens handled by interceptors
- [ ] Type-safe API function signatures

## User Experience

### Notifications
- [ ] Sonner toasts used for all notifications
- [ ] Success actions show success toast
- [ ] Errors show descriptive error messages
- [ ] Loading states show toast.loading()

### Loading States
- [ ] Skeleton loaders shown during data fetch
- [ ] Buttons show loading state during submission
- [ ] Disabled state applied during async operations

### Error Handling
- [ ] Network errors caught and displayed
- [ ] User-friendly error messages (no stack traces)
- [ ] Fallback UI for error states
- [ ] No unhandled promise rejections

## Navigation

### Route Accessibility
- [ ] All pages have routes defined in router configuration
- [ ] Every page is accessible through navigation (menu, sidebar, or direct URL)
- [ ] Main pages (Dashboard, Home, Settings, etc.) accessible from primary navigation
- [ ] Secondary pages accessible through contextual navigation or direct links
- [ ] Deep-linked pages have breadcrumbs or back navigation
- [ ] 404/Not Found page implemented for invalid routes
- [ ] Protected routes have proper authentication checks
- [ ] Navigation state persists across page refreshes where appropriate

### Navigation UX
- [ ] Active route highlighted in navigation menu
- [ ] Clear visual hierarchy in navigation structure
- [ ] Mobile navigation is accessible and usable
- [ ] Navigation items have hover/focus states
- [ ] Nested routes show parent-child relationships
- [ ] User can always return to main areas (Dashboard/Home)

## Styling

### Tailwind CSS
- [ ] Tailwind v3 classes used
- [ ] HSL color variables from design system
- [ ] Custom CSS properties used where defined
- [ ] Responsive breakpoints: mobile-first approach
- [ ] Dark mode support via CSS variables

### Design System
- [ ] Colors use theme variables (primary, secondary, accent)
- [ ] Spacing uses Tailwind scale (p-4, gap-6, etc.)
- [ ] Border radius uses theme values (rounded-lg)
- [ ] Shadows use theme values (shadow-card)
- [ ] Typography follows Inter font system

## Accessibility

- [ ] Semantic HTML elements used
- [ ] Buttons have descriptive labels
- [ ] Forms have proper labels
- [ ] Focus states visible on interactive elements
- [ ] Color contrast meets WCAG standards

## Performance

- [ ] No console.log statements in production code
- [ ] No console errors in browser
- [ ] Images optimized (WebP, lazy loading)
- [ ] Large lists use virtualization if needed
- [ ] React Query cache configured appropriately

## Testing Readiness

- [ ] Components structured for easy testing
- [ ] Business logic separated from presentation
- [ ] Mock-friendly API layer
- [ ] No hardcoded values that should be configurable
- [ ] Environment variables properly configured

## Final Checks

- [ ] Code builds without errors (`npm run build`)
- [ ] Development server runs without errors (`npm run dev`)
- [ ] No TypeScript errors in editor
- [ ] Browser console is clean (no errors or warnings)
- [ ] All functionality works as expected
- [ ] Code follows existing project patterns
- [ ] Changes are consistent with the rest of the codebase



IMPORTANT: ALL styling and design decisions must follow the Design Reference section above EXACTLY. Do not make arbitrary design choices.

Analyze the existing project structure and implement the task following the patterns already established. Ensure all success criteria are met.